t_d2gs_d2dbs_generic    0x00
  t_d2dbs_d2gs_header  h; 
end

t_d2gs_d2dbs_save_charsave_request		0x30
  t_d2dbs_d2gs_header  h; 
  bn_short      datalen;
  bn_short		ist;
  bn_short		changedist;
  std::string   acctname;
  std::string   charname;
  std::string   ipaddr;
  std::string   item_record;
  charsave   data[datalen];
end

t_d2gs_d2dbs_save_charinfo_request		0x40
  t_d2dbs_d2gs_header  h; 
  bn_short      datalen;
  std::string   acctname;
  std::string   charname;
  charsave   data[datalen];
end

enum DATATYPE bn_byte
  D2GS_DATA_CHARSAVE    0x01
  D2GS_DATA_PORTRAIT    0x02 
end

enum SAVE_RESULT bn_byte
  D2DBS_SAVE_DATA_SUCCESS    0x00
  D2DBS_SAVE_DATA_FAILED    0x01
end

t_d2dbs_d2gs_save_data_reply			0x30
	t_d2dbs_d2gs_header	h;
	SAVE_RESULT				result;
	DATATYPE			datatype;
    std::string   charname;
end


t_d2gs_d2dbs_get_data_request		0x31
  t_d2dbs_d2gs_header  h; 
  DATATYPE      datatype;
  std::string   acctname;
  std::string   charname;
end


enum GET_DATA_RESULT bn_byte
    D2DBS_GET_DATA_SUCCESS		0
    D2DBS_GET_DATA_FAILED		1
    D2DBS_GET_DATA_CHARLOCKED	2
end

t_d2dbs_d2gs_get_data_reply		0x31
  t_d2dbs_d2gs_header  h; 
  GET_DATA_RESULT        result; 
  bn_int    charcreatetime;
  bn_byte    allowladder;
  DATATYPE      datatype;
  bn_short      datalen; 
  std::string   charname;
  charsave   data[datalen];
end


t_d2gs_d2dbs_update_ladder		0x32
 t_d2dbs_d2gs_header h; 
 bn_byte  charlevel; 
 bn_int  charexplow; 
 bn_int  charexphigh; 
 bn_byte charclass; 
 bn_short charstatus; 
 std::string   charname;
end


t_d2gs_d2dbs_char_lock		0x33
  t_d2dbs_d2gs_header h; 
  bn_byte  lockstatus; 
  std::string   charname;
end


t_d2dbs_d2gs_echoreq		0x34
	t_d2dbs_d2gs_header	h;
end


t_d2gs_d2dbs_echoreply		0x34
	t_d2dbs_d2gs_header	h;
end

t_d2gs_d2dbs_closesignal		0x37
	t_d2dbs_d2gs_header	h;
	bn_byte ifclose;
    std::string   gamename;
end
